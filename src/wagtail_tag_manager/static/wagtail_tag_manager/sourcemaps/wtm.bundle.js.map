{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///./node_modules/whatwg-fetch/fetch.js","webpack:///./frontend/client/components/cookie_bar.ts","webpack:///./frontend/client/components/trigger_monitor.ts","webpack:///./frontend/client/wtm.ts","webpack:///./frontend/client/components/tag_manager.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","OldCookies","window","Cookies","api","noConflict","extend","result","arguments","length","attributes","decode","replace","decodeURIComponent","init","converter","set","document","path","defaults","expires","Date","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","json","jar","cookies","parts","slice","join","charAt","read","parse","getJSON","remove","withConverter","support","searchParams","self","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","toString","normalizeName","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","this","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","onerror","error","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","type","rejected","Error","then","text","readAsText","chars","fromCharCode","readArrayBufferAsText","oldValue","has","callback","thisArg","keys","push","values","entries","methods","Request","input","options","method","upcased","url","credentials","signal","toUpperCase","referrer","form","trim","bytes","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","err","message","stack","constructor","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","fetch","manager","el","getElementById","initialize","showCookieBar","hideCookieBar","classList","add","triggers","wtm","trigger","bindClickListener","bindVisibilityListener","bindFormSubmitListener","bindHistoryChangeListener","bindErrorListener","bindScrollListener","bindTimerListener","console","handleEvent","event","stopPropagation","target","sendTrigger","createElementID","querySelectorAll","element","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","slug","passive","preventDefault","submit","scrollPercentage","yScrollPercentage","xScrollPercentage","now","toISOString","setTimeout","setInterval","loadData","tag","tagName","ids","classes","attr","part","data","config","state","configUrl","getAttribute","config_url","lazyUrl","lazy_url","requestInit","cache","showCookiebar","loadConfig","item","validate","enabled","navigator","cookieEnabled","tag_types","tagType","handleLoad","tags","createElement","setAttribute","appendChild","createTextNode","string","head"],"mappings":"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","file":"wtm.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","import \"./cookie_bar.scss\";\n\nimport TagManager from \"./tag_manager\";\n\nexport default class CookieBar {\n  manager: TagManager;\n  el: HTMLElement;\n\n  constructor(manager: TagManager) {\n    this.manager = manager;\n    this.el = document.getElementById(\"wtm_cookie_bar\");\n\n    this.initialize = this.initialize.bind(this);\n    this.showCookieBar = this.showCookieBar.bind(this);\n    this.hideCookieBar = this.hideCookieBar.bind(this);\n\n    if (this.el) {\n      this.initialize();\n    }\n  }\n\n  initialize() {\n    this.showCookieBar();\n  }\n\n  showCookieBar() {\n    this.el.classList.remove(\"hidden\");\n  }\n\n  hideCookieBar() {\n    this.el.classList.add(\"hidden\");\n  }\n}\n","import TagManager from \"./tag_manager\";\n\nconst CLICK_ALL_ELEMENTS = \"click_all_elements\";\nconst CLICK_SOME_ELEMENTS = \"click_some_elements\";\nconst VISIBILITY_ONCE_PER_PAGE = \"visibility_once_per_page\";\nconst VISIBILITY_ONCE_PER_ELEMENT = \"visibility_once_per_element\";\nconst VISIBILITY_RECURRING = \"visibility_recurring\";\nconst FORM_SUBMIT = \"form_submit\";\nconst HISTORY_CHANGE = \"history_change\";\nconst JAVASCRIPT_ERROR = \"javascript_error\";\nconst SCROLL_VERTICAL = \"scroll_vertical\";\nconst SCROLL_HORIZONTAL = \"scroll_horizontal\";\nconst TIMER_TIMEOUT = \"timer_timeout\";\nconst TIMER_INTERVAL = \"timer_interval\";\n\nexport interface Trigger {\n  slug: string;\n  type: string;\n  value: any;\n}\n\nexport interface TriggerableHTMLElement extends HTMLElement {\n  wtm: { [key: string]: boolean };\n}\n\nexport default class TriggerMonitor {\n  manager: TagManager;\n  triggers: [Trigger];\n  wtm: { [key: string]: boolean };\n\n  constructor(manager: TagManager, triggers: [Trigger]) {\n    this.manager = manager;\n    this.triggers = triggers;\n    this.wtm = {};\n\n    this.initialize = this.initialize.bind(this);\n\n    this.initialize();\n  }\n\n  initialize() {\n    for (const trigger of this.triggers) {\n      switch (trigger.type) {\n        case CLICK_ALL_ELEMENTS:\n        case CLICK_SOME_ELEMENTS:\n          this.bindClickListener(trigger);\n          break;\n        case VISIBILITY_ONCE_PER_PAGE:\n        case VISIBILITY_ONCE_PER_ELEMENT:\n        case VISIBILITY_RECURRING:\n          this.bindVisibilityListener(trigger);\n          break;\n        case FORM_SUBMIT:\n          this.bindFormSubmitListener(trigger);\n          break;\n        case HISTORY_CHANGE:\n          this.bindHistoryChangeListener(trigger);\n          break;\n        case JAVASCRIPT_ERROR:\n          this.bindErrorListener(trigger);\n          break;\n        case SCROLL_VERTICAL:\n        case SCROLL_HORIZONTAL:\n          this.bindScrollListener(trigger);\n          break;\n        case TIMER_TIMEOUT:\n        case TIMER_INTERVAL:\n          this.bindTimerListener(trigger);\n          break;\n        default:\n          console.error(`trigger type '${trigger.type}' not implemented.`);\n          break;\n      }\n    }\n  }\n\n  bindClickListener(trigger: Trigger) {\n    const handleEvent = (event: MouseEvent) => {\n      event.stopPropagation();\n      const target = event.target as HTMLElement;\n      this.sendTrigger(trigger, this.createElementID(target));\n    };\n\n    if (trigger.type === CLICK_ALL_ELEMENTS) {\n      document.addEventListener(\"click\", handleEvent);\n    } else if (trigger.type === CLICK_SOME_ELEMENTS) {\n      [].forEach.call(document.querySelectorAll(trigger.value), (element: HTMLElement) => {\n        element.addEventListener(\"click\", handleEvent);\n      });\n    }\n  }\n\n  bindVisibilityListener(trigger: Trigger) {\n    const handleEvent = (event: Event) => {\n      [].forEach.call(\n        document.querySelectorAll(trigger.value),\n        (element: TriggerableHTMLElement) => {\n          const rect = element.getBoundingClientRect();\n          const in_view =\n            rect.top >= 0 &&\n            rect.left >= 0 &&\n            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            rect.right <= (window.innerWidth || document.documentElement.clientWidth);\n\n          if (in_view) {\n            if (trigger.type === VISIBILITY_ONCE_PER_PAGE && !this.wtm[trigger.slug]) {\n              this.wtm[trigger.slug] = true;\n              this.sendTrigger(trigger, this.createElementID(element));\n            } else if (trigger.type === VISIBILITY_ONCE_PER_ELEMENT && !element.wtm[trigger.slug]) {\n              element.wtm[trigger.slug] = true;\n              this.sendTrigger(trigger, this.createElementID(element));\n            } else if (trigger.type === VISIBILITY_RECURRING && !element.wtm[trigger.slug]) {\n              element.wtm[trigger.slug] = true;\n              this.sendTrigger(trigger, this.createElementID(element));\n            }\n          } else if (trigger.type === VISIBILITY_RECURRING) {\n            element.wtm[trigger.slug] = false;\n          }\n        }\n      );\n    };\n\n    window.addEventListener(\"load\", handleEvent, { passive: true });\n    document.addEventListener(\"scroll\", handleEvent, { passive: true });\n    document.addEventListener(\"resize\", handleEvent, { passive: true });\n  }\n\n  bindFormSubmitListener(trigger: Trigger) {\n    const handleEvent = (event: Event) => {\n      event.preventDefault();\n      const target = event.target as HTMLFormElement;\n      this.sendTrigger(trigger, this.createElementID(target));\n      target.submit();\n    };\n\n    [].forEach.call(document.querySelectorAll(\"form\"), (element: HTMLElement) => {\n      element.addEventListener(\"submit\", handleEvent, { passive: true });\n    });\n  }\n\n  bindHistoryChangeListener(trigger: Trigger) {\n    const handleEvent = (event: PopStateEvent) => {\n      this.sendTrigger(trigger, event.type);\n    };\n\n    window.addEventListener(\"popstate\", handleEvent);\n  }\n\n  bindErrorListener(trigger: Trigger) {\n    const handleEvent = (event: ErrorEvent) => {\n      this.sendTrigger(trigger, event.message);\n    };\n    window.addEventListener(\"error\", handleEvent);\n  }\n\n  bindScrollListener(trigger: Trigger) {\n    const handleEvent = () => {\n      let scrollPercentage = -1000;\n      if (trigger.type === SCROLL_VERTICAL) {\n        scrollPercentage = this.yScrollPercentage;\n      } else if (trigger.type === SCROLL_HORIZONTAL) {\n        scrollPercentage = this.xScrollPercentage;\n      }\n\n      if (scrollPercentage >= trigger.value && !this.wtm[trigger.slug]) {\n        this.wtm[trigger.slug] = true;\n        this.sendTrigger(trigger, scrollPercentage);\n      } else if (scrollPercentage < trigger.value) {\n        this.wtm[trigger.slug] = false;\n      }\n    };\n\n    document.addEventListener(\"scroll\", handleEvent, { passive: true });\n  }\n\n  bindTimerListener(trigger: Trigger) {\n    const handleEvent = () => {\n      const now = new Date();\n      this.sendTrigger(trigger, now.toISOString());\n    };\n\n    if (trigger.type === TIMER_TIMEOUT) {\n      window.setTimeout(handleEvent, trigger.value);\n    } else if (trigger.type === TIMER_INTERVAL) {\n      window.setInterval(handleEvent, trigger.value);\n    }\n  }\n\n  sendTrigger(trigger: Trigger, value: string | number) {\n    trigger.value = value;\n    this.manager.loadData(trigger);\n  }\n\n  get yScrollPercentage() {\n    const distance = document.documentElement[\"scrollTop\"] || document.body[\"scrollTop\"];\n    const offset =\n      (document.documentElement[\"scrollHeight\"] || document.body[\"scrollHeight\"]) -\n      document.documentElement.clientHeight;\n    return (distance / offset) * 100;\n  }\n\n  get xScrollPercentage() {\n    const distance = document.documentElement[\"scrollLeft\"] || document.body[\"scrollLeft\"];\n    const offset =\n      (document.documentElement[\"scrollWidth\"] || document.body[\"scrollWidth\"]) -\n      document.documentElement.clientHeight;\n    return (distance / offset) * 100;\n  }\n\n  createElementID(el: HTMLElement) {\n    const tag = el.tagName.toLowerCase();\n    const ids: [string?] = [];\n    const classes: [string?] = [];\n    const attributes: [string?] = [];\n\n    [].forEach.call(el.attributes, (attr: any) => {\n      const { name, value } = attr;\n      switch (name) {\n        case \"id\":\n          for (let part of value.split(\" \")) {\n            if (part) ids.push(`#${part}`);\n          }\n          break;\n        case \"class\":\n          for (let part of value.split(\" \")) {\n            if (part) classes.push(`.${part}`);\n          }\n          break;\n        default:\n          attributes.push(`[${name}=${value}]`);\n          break;\n      }\n    });\n\n    return tag + ids.join(\"\") + classes.join(\"\") + attributes.join(\"\");\n  }\n}\n","import TagManager from \"./components/tag_manager\";\n\n(function() {\n  new TagManager();\n})();\n","import * as Cookies from \"js-cookie\";\nimport \"whatwg-fetch\";\nimport CookieBar from \"./cookie_bar\";\nimport TriggerMonitor from \"./trigger_monitor\";\n\nimport { Trigger } from \"./trigger_monitor\";\n\nexport interface WTMWindow extends Window {\n  wtm: {\n    config_url: string;\n    lazy_url: string;\n  };\n}\n\nexport interface Tag {\n  name: string;\n  attributes: {\n    [s: string]: string;\n  };\n  string: string;\n}\n\nexport default class TagManager {\n  window: WTMWindow = window as WTMWindow;\n\n  configUrl: string;\n  lazyUrl: string;\n\n  showCookiebar: boolean;\n  requestInit: RequestInit;\n  data: { [s: string]: any } = {};\n  config: { [s: string]: any } = {};\n  state: { [s: string]: any } = {};\n\n  constructor() {\n    const { body } = document;\n\n    this.configUrl = body.getAttribute(\"data-wtm-config\") || this.window.wtm.config_url;\n    this.lazyUrl = body.getAttribute(\"data-wtm-lazy\") || this.window.wtm.lazy_url;\n\n    this.requestInit = {\n      method: \"GET\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        \"X-CSRFToken\": Cookies.get(\"csrftoken\")\n      },\n      redirect: \"follow\",\n      referrer: \"no-referrer\"\n    };\n\n    this.showCookiebar = false;\n    this.initialize();\n  }\n\n  initialize() {\n    this.loadConfig(() => {\n      const items = Cookies.get(\"wtm\").split(\"|\");\n      items.map(item => {\n        const parts = item.split(\":\", 2);\n        if (parts.length > 0) this.state[parts[0]] = parts[1];\n      });\n\n      this.validate();\n      this.loadData(null);\n    });\n  }\n\n  validate() {\n    // Verify the browser allows cookies.\n    let enabled = navigator.cookieEnabled;\n    if (!enabled) {\n      Cookies.set(\"wtm_verification\", \"verification\");\n      enabled = Cookies.get(\"wtm_verification\") !== undefined;\n    }\n\n    if (enabled) {\n      Object.keys(this.config.tag_types).forEach(tagType => {\n        if (this.state[tagType] === \"unset\" || this.state[tagType] == \"none\") {\n          this.showCookiebar = true;\n        }\n      });\n    }\n\n    if (this.showCookiebar) {\n      new CookieBar(this);\n    }\n\n    if (this.config.triggers && this.config.triggers.length > 0) {\n      const { triggers } = this.config;\n      new TriggerMonitor(this, triggers);\n    }\n  }\n\n  loadConfig(callback?: Function) {\n    fetch(this.configUrl, this.requestInit)\n      .then(response => response.json())\n      .then(json => {\n        this.config = json;\n        if (callback) callback();\n      });\n  }\n\n  loadData(trigger: Trigger, callback?: Function) {\n    fetch(this.lazyUrl, {\n      ...this.requestInit,\n      method: \"POST\",\n      body: JSON.stringify({ ...window.location, trigger })\n    })\n      .then(response => response.json())\n      .then(json => {\n        this.data = json;\n        this.handleLoad();\n        if (callback) callback();\n      });\n  }\n\n  handleLoad() {\n    this.data.tags.forEach((tag: Tag) => {\n      const element = document.createElement(tag.name);\n      for (let property in tag.attributes) {\n        if (tag.attributes.hasOwnProperty(property)) {\n          element.setAttribute(property, tag.attributes[property]);\n        }\n      }\n      element.appendChild(document.createTextNode(tag.string));\n      document.head.appendChild(element);\n    });\n  }\n}\n"],"sourceRoot":""}